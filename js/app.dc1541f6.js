(function(t){function e(e){for(var r,o,u=e[0],c=e[1],i=e[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var i=0;i<u.length;i++)e(u[i]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NextTrain")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"next-train"},[n("h1",[t._v(t._s(t.codeToText(t.line)))]),n("h2",[t._v(t._s(t.codeToText(t.sta)))]),n("h3",[t._v("現在時間: "+t._s(t.currentTime))]),n("h3",[t._v("往"+t._s(t.uniqueUpDestinations))]),n("br"),n("div",[n("b-table",{attrs:{striped:"",hover:"",items:t.myProvider,busy:t.isBusy,fields:t.fields},on:{"update:busy":function(e){t.isBusy=e}}})],1),n("h3",[t._v("往"+t._s(t.uniqueDownDestinations))]),n("br"),n("div",[n("b-table",{attrs:{striped:"",hover:"",items:t.myProvider2,busy:t.isBusy,fields:t.fields},on:{"update:busy":function(e){t.isBusy=e}}})],1)])},u=[],c=n("2909"),i=(n("d3b7"),n("99af"),n("6062"),n("3ca3"),n("ddb0"),n("a15b"),{name:"NextTrain",data:function(){return{isBusy:!1,results:[],currentTime:"",fields:[{key:"dest",label:"目的地"},{key:"ttnt",label:"預計到達"},{key:"time",label:"到達時間"},{key:"plat",label:"月台"}],line:"WRL",sta:"TWW",allUpDestinations:[],allDownDestinations:[],uniqueUpDestinations:"",uniqueDownDestinations:""}},methods:{nextTrainTtntText:function(t){return t<1?"正在離開...":t<2?"即將到達...":"".concat(t,"分鐘")},myProvider:function(){var t=this;return fetch("https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php?line=".concat(this.line,"&sta=").concat(this.sta),{method:"get"}).then((function(t){return t.json()})).then((function(e){var n=e.data["".concat(t.line,"-").concat(t.sta)]["UP"];console.log(n);for(var r=0;r<n.length;r++)n[r]["ttnt"]=t.nextTrainTtntText(n[r]["ttnt"]),n[r]["dest"]=t.codeToText(n[r]["dest"]),t.allUpDestinations[r]=n[r]["dest"];var a=Object(c["a"])(new Set(t.allUpDestinations));return t.uniqueUpDestinations=a.join("/"),t.results=e["data"]["".concat(t.line,"-").concat(t.sta)],t.currentTime=e["curr_time"],n})).catch((function(t){return console.log(t),[]}))},myProvider2:function(){var t=this;return fetch("https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php?line=".concat(this.line,"&sta=").concat(this.sta),{method:"get"}).then((function(t){return t.json()})).then((function(e){var n=e.data["".concat(t.line,"-").concat(t.sta)]["DOWN"];console.log(n);for(var r=0;r<n.length;r++)n[r]["ttnt"]=t.nextTrainTtntText(n[r]["ttnt"]),n[r]["dest"]=t.codeToText(n[r]["dest"]),t.allDownDestinations[r]=n[r]["dest"];var a=Object(c["a"])(new Set(t.allDownDestinations));return t.uniqueDownDestinations=a.join("/"),n})).catch((function(t){return console.log(t),[]}))},codeToText:function(t){switch(t){case"AEL":return"機場快綫";case"TCL":return"東涌綫";case"WRL":return"西鐵綫";case"TKL":return"將軍澳綫";case"HOK":return"香港";case"KOW":return"九龍";case"TSY":return"青衣";case"AIR":return"機場";case"AWE":return"博覽館";case"OLY":return"奧運";case"NAC":return"南昌";case"LAK":return"荔景";case"SUN":return"欣澳";case"TUC":return"東涌";case"HUH":return"紅磡";case"ETS":return"尖東";case"AUS":return"柯士甸";case"MEF":return"美孚";case"TWW":return"荃灣西";case"KSR":return"錦上路";case"YUL":return"元朗";case"LOP":return"朗屏";case"TIS":return"天水圍";case"SIH":return"兆康";case"TUM":return"屯門";case"NOP":return"北角";case"QUB":return"鰂魚涌";case"YAT":return"油塘";case"TIK":return"調景嶺";case"TKO":return"將軍澳";case"LHP":return"康城";case"HAH":return"坑口";case"POA":return"寶琳"}return""}},mounted:function(){},props:{}}),l=i,f=(n("80f1"),n("2877")),d=Object(f["a"])(l,o,u,!1,null,"70734cd1",null),p=d.exports,h={name:"App",components:{NextTrain:p}},v=h,b=(n("034f"),Object(f["a"])(v,a,s,!1,null,null,null)),T=b.exports,y=n("5f5b"),m=n("bc3a"),g=n.n(m);n("f9e3"),n("2dd8");r["default"].use(y["a"],g.a),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(T)}}).$mount("#app")},"80f1":function(t,e,n){"use strict";n("fc76")},"85ec":function(t,e,n){},fc76:function(t,e,n){}});
//# sourceMappingURL=app.dc1541f6.js.map