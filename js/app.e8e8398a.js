(function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ApiTest/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"4e60":function(e,t,n){},"4f19":function(e,t,n){"use strict";n("4e60")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NextTrain")],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"next-train"},[n("div",{attrs:{id:"form"}},[n("b-button",{on:{click:e.refreshTables}},[e._v("Refresh")])],1),n("div",{staticClass:"result"},[n("h1",[e._v(e._s(e.codeToText(e.line)))]),n("h2",[e._v(e._s(e.codeToText(e.sta)))]),n("h3",[e._v("現在時間: "+e._s(e.currentTime))]),n("h3",[e._v("往"+e._s(e.uniqueUpDestinations))]),n("br"),n("div",[n("b-table",{ref:"table",attrs:{striped:"",hover:"",items:e.myProvider,fields:e.fields}})],1),n("h3",[e._v("往"+e._s(e.uniqueDownDestinations))]),n("br"),n("div",[n("b-table",{ref:"table2",attrs:{striped:"",hover:"",items:e.myProvider2,fields:e.fields}})],1)])])},c=[],i=n("2909"),u=(n("d3b7"),n("99af"),n("6062"),n("3ca3"),n("ddb0"),n("a15b"),{name:"NextTrain",data:function(){return{results:[],currentTime:"",fields:[{key:"dest",label:"目的地"},{key:"ttnt",label:"預計到達"},{key:"time",label:"到達時間"},{key:"plat",label:"月台"}],line:"WRL",sta:"TWW",allUpDestinations:[],allDownDestinations:[],uniqueUpDestinations:"",uniqueDownDestinations:""}},methods:{nextTrainTtntText:function(e){return e<1?"正在離開...":e<2?"即將到達...":"".concat(e,"分鐘")},myProvider:function(){var e=this;return fetch("https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php?line=".concat(this.line,"&sta=").concat(this.sta),{method:"get"}).then((function(e){return e.json()})).then((function(t){var n=t.data["".concat(e.line,"-").concat(e.sta)]["UP"];console.log(n);for(var r=0;r<n.length;r++)n[r]["ttnt"]=e.nextTrainTtntText(n[r]["ttnt"]),n[r]["dest"]=e.codeToText(n[r]["dest"]),e.allUpDestinations[r]=n[r]["dest"];var a=Object(i["a"])(new Set(e.allUpDestinations));return e.uniqueUpDestinations=a.join("/"),e.results=t["data"]["".concat(e.line,"-").concat(e.sta)],e.currentTime=t["curr_time"],n})).catch((function(e){return console.log(e),[]}))},myProvider2:function(){var e=this;return fetch("https://rt.data.gov.hk/v1/transport/mtr/getSchedule.php?line=".concat(this.line,"&sta=").concat(this.sta),{method:"get"}).then((function(e){return e.json()})).then((function(t){var n=t.data["".concat(e.line,"-").concat(e.sta)]["DOWN"];console.log(n);for(var r=0;r<n.length;r++)n[r]["ttnt"]=e.nextTrainTtntText(n[r]["ttnt"]),n[r]["dest"]=e.codeToText(n[r]["dest"]),e.allDownDestinations[r]=n[r]["dest"];var a=Object(i["a"])(new Set(e.allDownDestinations));return e.uniqueDownDestinations=a.join("/"),n})).catch((function(e){return console.log(e),[]}))},codeToText:function(e){switch(e){case"AEL":return"機場快綫";case"TCL":return"東涌綫";case"WRL":return"西鐵綫";case"TKL":return"將軍澳綫";case"HOK":return"香港";case"KOW":return"九龍";case"TSY":return"青衣";case"AIR":return"機場";case"AWE":return"博覽館";case"OLY":return"奧運";case"NAC":return"南昌";case"LAK":return"荔景";case"SUN":return"欣澳";case"TUC":return"東涌";case"HUH":return"紅磡";case"ETS":return"尖東";case"AUS":return"柯士甸";case"MEF":return"美孚";case"TWW":return"荃灣西";case"KSR":return"錦上路";case"YUL":return"元朗";case"LOP":return"朗屏";case"TIS":return"天水圍";case"SIH":return"兆康";case"TUM":return"屯門";case"NOP":return"北角";case"QUB":return"鰂魚涌";case"YAT":return"油塘";case"TIK":return"調景嶺";case"TKO":return"將軍澳";case"LHP":return"康城";case"HAH":return"坑口";case"POA":return"寶琳"}return""},refreshTables:function(){this.$refs.table.refresh(),this.$refs.table2.refresh()}},mounted:function(){},props:{}}),l=u,f=(n("4f19"),n("2877")),d=Object(f["a"])(l,o,c,!1,null,"7cc1eaf8",null),p=d.exports,h={name:"App",components:{NextTrain:p}},v=h,b=(n("034f"),Object(f["a"])(v,a,s,!1,null,null,null)),T=b.exports,m=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(m["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(T)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.e8e8398a.js.map